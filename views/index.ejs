<%- include("partials/header.ejs") %>

  <div style="background-image: url(./assests/images/bg-2.jpg);" class="min-h-screen">
    <div class="w-3/4 mx-auto py-8 text-amber-50">

      <!-- Page Title -->
      <h1 class="text-3xl font-bold text-center mb-6">Latest Blogs</h1>

      <!-- If there are no blogs -->
      <% if (blogs.length===0) { %>
        <p class="text-center text-lg italic">No blogs yet. Be the first to create one!</p>
        <% } %>

          <!-- Loop over blogs -->
          <div class="grid gap-6 mt-6">
            <% blogs.forEach(blog=> { %>
              <div class="border border-amber-50 rounded-2xl p-6 shadow-lg bg-slate-900/50">
                <h2 class="text-2xl font-semibold mb-2">
                  <%= blog.title %>
                </h2>
                <p class="mb-4">
                  <%= blog.content %>
                </p>
                <p class="text-sm italic">By: <%= blog.author %> | Contact: <%= blog.contact %>
                </p>

                <form action="/delete/<%= blog.id %>" method="POST"
                  onsubmit="return confirm('Are you sure you want to delete this blog?');">
                  <button type="submit"
                    class="mt-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-500 transition">
                    üóëÔ∏è Delete
                  </button>
                </form>
              </div>
              <% }); %>
          </div>

          <!-- Button to create a new blog -->
          <div class="flex justify-center mt-8">
            <a href="/newblog"
              class="bg-amber-50 text-slate-900 rounded-xl px-6 py-2 font-semibold hover:bg-amber-400 transition">
              + Create New Blog
            </a>
          </div>
    </div>
  </div>

  <%- include("partials/footer.ejs") %>